{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/PHP LARAVEL/inventory/frontend/src/pages/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const [editMode, setEditMode] = useState(false);\n  const [profile, setProfile] = useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || \"\",\n    role: (user === null || user === void 0 ? void 0 : user.role) || \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  function handleChange(e) {\n    setProfile({\n      ...profile,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function handleSave(e) {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      await axios.put(`http://localhost:5000/api/profile/${user.username}`, {\n        newUsername: profile.username,\n        role: profile.role\n      });\n      updateProfile({\n        username: profile.username,\n        role: profile.role\n      });\n      setEditMode(false);\n      setSuccess(\"Profile updated successfully.\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Update failed\");\n    }\n  }\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Please log in to view your profile.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: \"40px auto\",\n      background: \"#fff\",\n      borderRadius: 12,\n      padding: 32,\n      boxShadow: \"0 2px 12px rgba(60,72,86,.07)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSave,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          value: profile.username,\n          onChange: handleChange,\n          readOnly: !editMode,\n          style: {\n            width: \"100%\",\n            padding: 8,\n            marginTop: 4,\n            borderRadius: 4,\n            border: \"1px solid #ddd\",\n            background: editMode ? \"#fff\" : \"#f5f5f5\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"role\",\n          value: profile.role,\n          onChange: handleChange,\n          readOnly: !editMode,\n          style: {\n            width: \"100%\",\n            padding: 8,\n            marginTop: 4,\n            borderRadius: 4,\n            border: \"1px solid #ddd\",\n            background: editMode ? \"#fff\" : \"#f5f5f5\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            background: \"#26b99a\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 6,\n            padding: \"8px 18px\",\n            marginRight: 10,\n            cursor: \"pointer\"\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setEditMode(false),\n          style: {\n            borderRadius: 6,\n            padding: \"8px 18px\",\n            cursor: \"pointer\"\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setEditMode(true),\n        style: {\n          background: \"#26b99a\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: 6,\n          padding: \"8px 18px\",\n          cursor: \"pointer\"\n        },\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          marginTop: 10\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"green\",\n          marginTop: 10\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"E7Pf9HZDsiT7LwClJddnrnRtFGA=\", false, function () {\n  return [useAuth];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","axios","useAuth","jsxDEV","_jsxDEV","Profile","_s","user","updateProfile","editMode","setEditMode","profile","setProfile","username","role","error","setError","success","setSuccess","handleChange","e","target","name","value","handleSave","preventDefault","put","newUsername","err","_err$response","_err$response$data","response","data","children","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","margin","background","borderRadius","padding","boxShadow","onSubmit","marginBottom","onChange","readOnly","width","marginTop","border","type","color","marginRight","cursor","onClick","_c","$RefreshReg$"],"sources":["/Users/apple/Desktop/PHP LARAVEL/inventory/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../AuthContext\";\nexport default function Profile() {\n  const { user, updateProfile } = useAuth();\n  const [editMode, setEditMode] = useState(false);\n  const [profile, setProfile] = useState({\n    username: user?.username || \"\",\n    role: user?.role || \"\",\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  function handleChange(e) {\n    setProfile({ ...profile, [e.target.name]: e.target.value });\n  }\n  async function handleSave(e) {\n    e.preventDefault();\n    setError(\"\"); setSuccess(\"\");\n    try {\n      await axios.put(`http://localhost:5000/api/profile/${user.username}`, {\n        newUsername: profile.username, role: profile.role,\n      });\n      updateProfile({ username: profile.username, role: profile.role });\n      setEditMode(false);\n      setSuccess(\"Profile updated successfully.\");\n    } catch (err) {\n      setError(err.response?.data?.error || \"Update failed\");\n    }\n  }\n  if (!user) return <div>Please log in to view your profile.</div>;\n  return (\n    <div style={{\n      maxWidth: 400, margin: \"40px auto\", background: \"#fff\", borderRadius: 12,\n      padding: 32, boxShadow: \"0 2px 12px rgba(60,72,86,.07)\"\n    }}>\n      <h2>Profile</h2>\n      <form onSubmit={handleSave}>\n        <div style={{ marginBottom: 16 }}>\n          <label>Username:</label>\n          <input\n            name=\"username\"\n            value={profile.username}\n            onChange={handleChange}\n            readOnly={!editMode}\n            style={{\n              width: \"100%\", padding: 8, marginTop: 4, borderRadius: 4,\n              border: \"1px solid #ddd\", background: editMode ? \"#fff\" : \"#f5f5f5\"\n            }}\n          />\n        </div>\n        <div style={{ marginBottom: 16 }}>\n          <label>Role:</label>\n          <input\n            name=\"role\"\n            value={profile.role}\n            onChange={handleChange}\n            readOnly={!editMode}\n            style={{\n              width: \"100%\", padding: 8, marginTop: 4, borderRadius: 4,\n              border: \"1px solid #ddd\", background: editMode ? \"#fff\" : \"#f5f5f5\"\n            }}\n          />\n        </div>\n        {editMode ? (\n          <div>\n            <button type=\"submit\" style={{\n              background: \"#26b99a\", color: \"#fff\", border: \"none\", borderRadius: 6,\n              padding: \"8px 18px\", marginRight: 10, cursor: \"pointer\"\n            }}>Save</button>\n            <button type=\"button\" onClick={() => setEditMode(false)} style={{\n              borderRadius: 6, padding: \"8px 18px\", cursor: \"pointer\"\n            }}>Cancel</button>\n          </div>\n        ) : (\n          <button type=\"button\" onClick={() => setEditMode(true)} style={{\n            background: \"#26b99a\", color: \"#fff\", border: \"none\", borderRadius: 6,\n            padding: \"8px 18px\", cursor: \"pointer\"\n          }}>Edit Profile</button>\n        )}\n        {error && <div style={{ color: \"red\", marginTop: 10 }}>{error}</div>}\n        {success && <div style={{ color: \"green\", marginTop: 10 }}>{success}</div>}\n      </form>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACzC,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM;IAAEC,IAAI;IAAEC;EAAc,CAAC,GAAGN,OAAO,CAAC,CAAC;EACzC,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC;IACrCa,QAAQ,EAAE,CAAAN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,QAAQ,KAAI,EAAE;IAC9BC,IAAI,EAAE,CAAAP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,IAAI,KAAI;EACtB,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1C,SAASmB,YAAYA,CAACC,CAAC,EAAE;IACvBR,UAAU,CAAC;MAAE,GAAGD,OAAO;MAAE,CAACS,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EAC7D;EACA,eAAeC,UAAUA,CAACJ,CAAC,EAAE;IAC3BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBT,QAAQ,CAAC,EAAE,CAAC;IAAEE,UAAU,CAAC,EAAE,CAAC;IAC5B,IAAI;MACF,MAAMjB,KAAK,CAACyB,GAAG,CAAC,qCAAqCnB,IAAI,CAACM,QAAQ,EAAE,EAAE;QACpEc,WAAW,EAAEhB,OAAO,CAACE,QAAQ;QAAEC,IAAI,EAAEH,OAAO,CAACG;MAC/C,CAAC,CAAC;MACFN,aAAa,CAAC;QAAEK,QAAQ,EAAEF,OAAO,CAACE,QAAQ;QAAEC,IAAI,EAAEH,OAAO,CAACG;MAAK,CAAC,CAAC;MACjEJ,WAAW,CAAC,KAAK,CAAC;MAClBQ,UAAU,CAAC,+BAA+B,CAAC;IAC7C,CAAC,CAAC,OAAOU,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZd,QAAQ,CAAC,EAAAa,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcG,IAAI,cAAAF,kBAAA,uBAAlBA,kBAAA,CAAoBf,KAAK,KAAI,eAAe,CAAC;IACxD;EACF;EACA,IAAI,CAACR,IAAI,EAAE,oBAAOH,OAAA;IAAA6B,QAAA,EAAK;EAAmC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAChE,oBACEjC,OAAA;IAAKkC,KAAK,EAAE;MACVC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE,WAAW;MAAEC,UAAU,EAAE,MAAM;MAAEC,YAAY,EAAE,EAAE;MACxEC,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAC1B,CAAE;IAAAX,QAAA,gBACA7B,OAAA;MAAA6B,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChBjC,OAAA;MAAMyC,QAAQ,EAAErB,UAAW;MAAAS,QAAA,gBACzB7B,OAAA;QAAKkC,KAAK,EAAE;UAAEQ,YAAY,EAAE;QAAG,CAAE;QAAAb,QAAA,gBAC/B7B,OAAA;UAAA6B,QAAA,EAAO;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxBjC,OAAA;UACEkB,IAAI,EAAC,UAAU;UACfC,KAAK,EAAEZ,OAAO,CAACE,QAAS;UACxBkC,QAAQ,EAAE5B,YAAa;UACvB6B,QAAQ,EAAE,CAACvC,QAAS;UACpB6B,KAAK,EAAE;YACLW,KAAK,EAAE,MAAM;YAAEN,OAAO,EAAE,CAAC;YAAEO,SAAS,EAAE,CAAC;YAAER,YAAY,EAAE,CAAC;YACxDS,MAAM,EAAE,gBAAgB;YAAEV,UAAU,EAAEhC,QAAQ,GAAG,MAAM,GAAG;UAC5D;QAAE;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNjC,OAAA;QAAKkC,KAAK,EAAE;UAAEQ,YAAY,EAAE;QAAG,CAAE;QAAAb,QAAA,gBAC/B7B,OAAA;UAAA6B,QAAA,EAAO;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpBjC,OAAA;UACEkB,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEZ,OAAO,CAACG,IAAK;UACpBiC,QAAQ,EAAE5B,YAAa;UACvB6B,QAAQ,EAAE,CAACvC,QAAS;UACpB6B,KAAK,EAAE;YACLW,KAAK,EAAE,MAAM;YAAEN,OAAO,EAAE,CAAC;YAAEO,SAAS,EAAE,CAAC;YAAER,YAAY,EAAE,CAAC;YACxDS,MAAM,EAAE,gBAAgB;YAAEV,UAAU,EAAEhC,QAAQ,GAAG,MAAM,GAAG;UAC5D;QAAE;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACL5B,QAAQ,gBACPL,OAAA;QAAA6B,QAAA,gBACE7B,OAAA;UAAQgD,IAAI,EAAC,QAAQ;UAACd,KAAK,EAAE;YAC3BG,UAAU,EAAE,SAAS;YAAEY,KAAK,EAAE,MAAM;YAAEF,MAAM,EAAE,MAAM;YAAET,YAAY,EAAE,CAAC;YACrEC,OAAO,EAAE,UAAU;YAAEW,WAAW,EAAE,EAAE;YAAEC,MAAM,EAAE;UAChD,CAAE;UAAAtB,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChBjC,OAAA;UAAQgD,IAAI,EAAC,QAAQ;UAACI,OAAO,EAAEA,CAAA,KAAM9C,WAAW,CAAC,KAAK,CAAE;UAAC4B,KAAK,EAAE;YAC9DI,YAAY,EAAE,CAAC;YAAEC,OAAO,EAAE,UAAU;YAAEY,MAAM,EAAE;UAChD,CAAE;UAAAtB,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,gBAENjC,OAAA;QAAQgD,IAAI,EAAC,QAAQ;QAACI,OAAO,EAAEA,CAAA,KAAM9C,WAAW,CAAC,IAAI,CAAE;QAAC4B,KAAK,EAAE;UAC7DG,UAAU,EAAE,SAAS;UAAEY,KAAK,EAAE,MAAM;UAAEF,MAAM,EAAE,MAAM;UAAET,YAAY,EAAE,CAAC;UACrEC,OAAO,EAAE,UAAU;UAAEY,MAAM,EAAE;QAC/B,CAAE;QAAAtB,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACxB,EACAtB,KAAK,iBAAIX,OAAA;QAAKkC,KAAK,EAAE;UAAEe,KAAK,EAAE,KAAK;UAAEH,SAAS,EAAE;QAAG,CAAE;QAAAjB,QAAA,EAAElB;MAAK;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EACnEpB,OAAO,iBAAIb,OAAA;QAAKkC,KAAK,EAAE;UAAEe,KAAK,EAAE,OAAO;UAAEH,SAAS,EAAE;QAAG,CAAE;QAAAjB,QAAA,EAAEhB;MAAO;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC/B,EAAA,CAjFuBD,OAAO;EAAA,QACGH,OAAO;AAAA;AAAAuD,EAAA,GADjBpD,OAAO;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}